# Lab R 6

### 1. Створити матрицю mat з 5 стовпцями та 10 строками за допомогою matrix з випадковими даними (функція rnorm(50)).
```R
mat <- matrix(rnorm(50), 10, 5)

```
```cmd
> mat
            [,1]       [,2]        [,3]       [,4]        [,5]
 [1,]  1.2272730  0.1952741 -0.04088751 -0.1764374  0.67598731
 [2,] -0.9413611 -0.6558736  0.11965696 -0.1166761  0.32636750
 [3,]  0.3379839  0.7302204 -0.80578492  1.8685575  1.72649182
 [4,] -0.4541554  1.5964495  1.73161703  1.6461752  0.65293359
 [5,] -0.9261945  1.1176699  0.33866063  0.6976294  0.12067052
 [6,] -0.6132634 -0.4017408  0.08629075 -0.6512043 -0.55714189
 [7,] -0.3855389 -0.2393338  0.87209478 -0.4455574  0.60275382
 [8,]  0.6177756  0.0573191  1.23019949 -1.1794067 -0.01882793
 [9,]  0.8730310  0.1214420  0.97041655  0.2445785  0.39462178
[10,] -1.3862101 -0.3640643 -0.21994295  0.5749196  0.18010987
```
### 2. Знайти максимальне значення в кожному стовпці.
```R
apply(mat, 2, max) 
```
```cmd
> apply(mat, 2, max) 
[1] 1.227273 1.596450 1.731617 1.868558 1.726492
```
### 3. Знайти середнє (mean) значення кожного стовпця.
```R
apply(mat, 2, mean) 
```
```cmd
> apply(mat, 2, mean) 
[1] -0.1650660  0.2157362  0.4282321  0.2462578  0.4103966
```
### 4. Знайти мінімальне значення в кожному рядку.
```R
apply(mat, 1, min) 
```
```cmd
> apply(mat, 1, min) 
 [1] -0.1764374 -0.9413611 -0.8057849 -0.4541554 -0.9261945 -0.6512043 -0.4455574 -1.1794067  0.1214420 -1.3862101
```
### 5. Відсортувати кожен стовбець таблиці.
```R
apply(mat, 2, sort, decreasing = TRUE)
```
```cmd
> apply(mat, 2, sort, decreasing = TRUE)
            [,1]       [,2]        [,3]       [,4]        [,5]
 [1,] -1.3862101 -0.6558736 -0.80578492 -1.1794067 -0.55714189
 [2,] -0.9413611 -0.4017408 -0.21994295 -0.6512043 -0.01882793
 [3,] -0.9261945 -0.3640643 -0.04088751 -0.4455574  0.12067052
 [4,] -0.6132634 -0.2393338  0.08629075 -0.1764374  0.18010987
 [5,] -0.4541554  0.0573191  0.11965696 -0.1166761  0.32636750
 [6,] -0.3855389  0.1214420  0.33866063  0.2445785  0.39462178
 [7,]  0.3379839  0.1952741  0.87209478  0.5749196  0.60275382
 [8,]  0.6177756  0.7302204  0.97041655  0.6976294  0.65293359
 [9,]  0.8730310  1.1176699  1.23019949  1.6461752  0.67598731
[10,]  1.2272730  1.5964495  1.73161703  1.8685575  1.72649182
```
### 6. Знайти кількість значень < 0 для кожного стовпця. Використати свою функцію.
```R
my_func <- function(x){
    ret_arr <-NULL
    for (i in 1:ncol(x)){
        ret_arr[i]<-sum(x[, i] < 0)
    }
    ret_arr
}

my_func(mat)
```
```cmd
> my_func(mat)
[1] 6 4 3 5 2
```
### 7. Вивести вектор з булевими значеннями TRUE та FALSE. TRUE, якщо в стовпці є елементи >2, FALSE – якщо немає.
```R
apply(mat, 2, function(t)(t > 2))
```
```cmd
> apply(mat, 2, function(t)(t > 2))
       [,1]  [,2]  [,3]  [,4]  [,5]
 [1,] FALSE FALSE FALSE FALSE FALSE
 [2,] FALSE FALSE FALSE FALSE FALSE
 [3,] FALSE FALSE FALSE FALSE FALSE
 [4,] FALSE FALSE FALSE FALSE FALSE
 [5,] FALSE FALSE FALSE FALSE FALSE
 [6,] FALSE FALSE FALSE FALSE FALSE
 [7,] FALSE FALSE FALSE FALSE FALSE
 [8,] FALSE FALSE FALSE FALSE FALSE
 [9,] FALSE FALSE FALSE FALSE FALSE
[10,] FALSE FALSE FALSE FALSE FALSE
```
### 8. Створить список list1 <- list(observationA = c(1:5, 7:3), observationB = matrix(1:6, nrow=2)). Для цього списку знайдіть sum за допомогою lapply.
```R
list1 <-list(observationA = c(1:5, 7:3), observationB=matrix(1:6, nrow=2))
lapply(list1,sum)

```
```cmd
> list1 <-list(observationA = c(1:5, 7:3), observationB=matrix(1:6, nrow=2))
> list1
$observationA
 [1] 1 2 3 4 5 7 6 5 4 3

$observationB
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6

> 
> lapply(list1, sum)
$observationA
[1] 40

$observationB
[1] 21
```
### 9. Для кожного елементу списку list1 знайдіть максимальне та мінімальнезначення (range) за допомогою lapply та sapply.
```R
lapply(list1, range)
sapply(list1, range)

```
```cmd
> lapply(list1, range)
$observationA
[1] 1 7

$observationB
[1] 1 6

> sapply(list1, range)
     observationA observationB
[1,]            1            1
[2,]            7            6
```
### 10.Для вбудованого набору даних InsectSprays знайти середнє count длякожного spray.
```R
InsectSprays
s <- with(InsectSprays, split(count, spray))
vapply(s, mean, numeric(1))

```
```cmd
> InsectSprays
   count spray
1     10     A
2      7     A
3     20     A
4     14     A
5     14     A
6     12     A
7     10     A
8     23     A
9     17     A
10    20     A
11    14     A
12    13     A
13    11     B
14    17     B
15    21     B
16    11     B
17    16     B
18    14     B
19    17     B
20    17     B
21    19     B
22    21     B
23     7     B
24    13     B
25     0     C
26     1     C
27     7     C
28     2     C
29     3     C
30     1     C
31     2     C
32     1     C
33     3     C
34     0     C
35     1     C
36     4     C
37     3     D
38     5     D
39    12     D
40     6     D
41     4     D
42     3     D
43     5     D
44     5     D
45     5     D
46     5     D
47     2     D
48     4     D
49     3     E
50     5     E
51     3     E
52     5     E
53     3     E
54     6     E
55     1     E
56     1     E
57     3     E
58     2     E
59     6     E
60     4     E
61    11     F
62     9     F
63    15     F
64    22     F
65    15     F
66    16     F
67    13     F
68    10     F
69    26     F
70    26     F
71    24     F
72    13     F

> s <- with(InsectSprays, split(count, spray))
> vapply(s, mean, numeric(1))
        A         B         C         D         E         F 
14.500000 15.333333  2.083333  4.916667  3.500000 16.666667 
```
